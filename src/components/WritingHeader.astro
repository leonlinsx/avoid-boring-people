---
import SearchBarToggle from "./SearchBarToggle.tsx";
const { title, subtitle = "", showSearch = false } = Astro.props;
---

<header class="writing-header">
  <div class="writing-header-text">
    <h1>{title}</h1>
    <div class="subtitle-row">
      <p class="subtext">{subtitle}</p>
      <!-- Mobile toggle next to subtitle -->
      {
        showSearch && (
          <div class="mobile-search">
            <SearchBarToggle client:load />
          </div>
        )
      }
    </div>
  </div>

  <!-- Desktop search (always visible) -->
  {
    showSearch && (
      <form
        class="search-bar-desktop"
        role="search"
        method="get"
        action="/writing/search"
      >
        <input
          type="search"
          name="q"
          class="search-input"
          placeholder="Search‚Ä¶"
        />
        <button type="submit" class="search-btn">
          üîç
        </button>
      </form>
    )
  }
</header>
