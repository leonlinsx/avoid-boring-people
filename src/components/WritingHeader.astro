---
import SearchBar from './SearchBar.astro';

interface Props {
  title: string;
  subtitle?: string;
  showSearch?: boolean;
}

const { title, subtitle = '', showSearch = false } = Astro.props;
---

<header class="writing-header">
  <div class="writing-header-text">
    <h1>{title}</h1>
    <div class="subtitle-row">
      <p class="subtext">{subtitle}</p>
      {showSearch && (
        <details class="mobile-search">
          <summary class="search-toggle" aria-controls="mobile-search-panel">
            <span aria-hidden="true">üîç</span>
            <span class="search-toggle-label">Search</span>
          </summary>
          <div class="search-disclosure" id="mobile-search-panel">
            <SearchBar className="search-bar-mobile" variant="compact" />
          </div>
        </details>
      )}
    </div>
  </div>

  {showSearch && <SearchBar className="search-bar-desktop" variant="compact" />}
</header>
